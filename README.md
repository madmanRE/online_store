# Интернет-магазин Megano

## Описание проекта

Данный интернет-магазин реализоавнный на базе фреймворка Django
с использованием дополнительных технологий (jquery, css, etc) представляет собой
стандартный екомерс сайт со встроенными модулями.

Вход в административную панель используется через ссылку в шапке сайта, либо черех url адрес /admin/
Данный для входа:

* *admin*
* *admin*

### Основные типы страниц:

* Главная
* О компании
* Каталог
* Товарная категория (хаб)
* Теговая страница
* Карточка товара
* Личный кабинет
* Изменение данных ЛК
* Регистрация
* Вход
* Выход
* Восстановление пароля по емейл
* Корзина
* Многоступенчатая форма оплаты
* Просмотр истории заказов
* Просмотр конкретного заказа

> Как было сказано выше, на сайте присутствуют готовые функциональные модули, о которых речь пойдет ниже.

### Для коммерческих страниц (каталог, карточки товара и т.д.):

* Встроенная фильтрация
    * По остатку
    * По характеристикам
    * По цене
    * По тегу
* Поиск по сайту, основанный на вхождении искомого слова в название или другие атрибуты товара.
    * *На данном этапе не используется развесовка релевантности*.
* Пагинация
* Сортировка
    * По цене
    * По популярности
    * По кол-ву отзывов
    * По дате добавления на склад
* Возможность добавления отзывов к карточкам товара

### Для заказа:

* Возможность сразу добавлять в корзину несколько единиц конкретного товара
* Предсохранение заказа в БД до момент покупки, товар будет в статусе *confirmed=False*
* Реализован функционал проверк кол-ва товара, стоимости заказа
* Реализован функционал добавления 500 за express доставку
* Предустановлены компоненты для отдельного модуля оплаты: ввод номера карты, валидация номера, генерация случайного
  номера карты для случаев, где пользователь выбирает оплату со счета другого лица
* Возможность убрать товары из корзины
* Отображение текущего баланса пользователя и кол-во товаров в корзине

### Для профиля:

* Возможность просмотра данных в ЛК
* Возможность изменять данные, включая пароль, фото и кол-во баланса (для режима разработка и удобства тестирования)
* На страницы ЛК отображаются основные данные, включая расширенные права, если пользователь имеет доступ в админку
* Истоия заказов
* Конкретный заказ в истории с товарами, стоимостью, кол-во и другой информацией

## Технические характеристики

Необходимые зависимости сохранены в файле requirements.txt

Оттуда их можно загрузить командой ```$ pip install -r requirements.txt```

Тестовые данные для загрузки в БД находятся в соответствующих фикстурах по адресу директории:
online_store/my_store_app/fixturex

Загрузить их можно командой ```$ python manage.py loaddata location/to/your/data.json```

Также в корневых файлах находится файл *robots.txt* - это набор директив для поисковых роботов. В данный момент сайт
закрыт от индексации. Рекомендуется изменить набор директив после полноценного релиза.

### Дополнительные сведения

Версия БД для разработки - sqlite3

Установка более функциональной БД, осуществляется отдельно, либо силами наших специалистов, либо силами клиента. Ссылка
на [документацию](https://docs.djangoproject.com/en/4.2/ref/databases/) по установке продвинутых БД.

Для удобства форматирования кода уже установлен пакет *black*, который позволяет быстро отредактировать код в проекте
командой ```$ black .```

### Архитектура проекта

Проект состоит из 3х отдельных приложений:

* my_store_app - тут сосредоточена логика витрины: каталоги, карточки товаров и т.п.
* order_app - тут все, что касается заказов, истории заказов и т.п.
* profile_app - тут регистрация, авторизация, ЛК и т.п.
* **online_store** - конфигурация проекта (системные настройки, взаимосвязи приложений и т.д.)

Каждое приложение состоит из определенных документов и директорий:

* templates - директория, где находится вложенная одноименная приложению директория с шаблонами html
* admin - настройки для вывода моделей в админку
* apps - конфигурация приложения
* forms - формы приложения
* mixins - катомные примеси в классы
* models - модели базы данных, сущности в таблицах, который мы описываем с помощью ОРМ
* services - файл для масштабирования логики, чтобы не нагружать контроллеры
* test - тесткейсы
* urls - пути / адреса конкретного приложения
* views - функции и классы контроллеры

Также можно обнаружить отдельную папки static в my_store_app. Тут хранятся статические файлы: css, js, img, etc.

### Примечание

Все модели находятся в приложении my_store_app/models. Все дело в том, что их удаление приведет к потере данных, которые
могут понадобится для тестов.

При при замене БД на "боевую" рекомендуется удалить текущие модели, предварительно раскидав их по соответствующим
приложениям в зависимости от назначения приложения.

## Инструкция по развертыванию проекта на Django

* Склонируйте репозиторий проекта с GitHub/GitLab/... на свой компьютер: ```$ git clone https://github.com/username/repository.git```. Замените username и repository на соответствующие значения.
* Перейдите в директорию проекта: ```$ cd repository```.
* Создайте витруальное окружение: ```$ python -m venv env source env/bin/activate```
* Установите зависимости: ```pip install -r requirements.txt```.
* Создайте базу данных ```python manage.py migrate``` или используйте старую БД для дополнительных тестов, разработки или использования на тестовом сервере.

> Если все таблицы в базе данных уже созданы и настроены, то выполнение миграций не является обязательным. 

* Создайте суперпользователя ```python manage.py createsuperuser```.
* Запустите сервер ```python manage.py runserver```.
* Откройте браузер и перейдите по адресу http://127.0.0.1:8000/ для проверки работоспособности проекта.

> Эти инструкции помогут вашему клиенту развернуть проект Django на своем компьютере. Обратите внимание, что они предполагают наличие на компьютере клиента установленного Python и Git. Если это не так, убедитесь, что ВЫ установили необходимое ПО перед началом развертывания проекта.


